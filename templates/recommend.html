{% extends "base.html" %}
{% block content %}
<section class="tool-section">
    <h1 class="page-title">Crop Recommendation</h1>
    <p class="page-subtitle">Enter your soil and climate to see the most profitable crops.</p>
    <div class="two-column">
        <form id="recommend-form" class="ka-form">
            <div class="form-group">
                <label for="soil-type">Soil type</label>
                <select id="soil-type" required>
                    <option value="">Select soil type</option>
                    <option value="loam">Loam</option>
                    <option value="clay">Clay</option>
                    <option value="sandy">Sandy</option>
                    <option value="silty">Silty</option>
                    <option value="black">Black</option>
                </select>
            </div>
            <div class="form-group">
                <label for="season">Season</label>
                <select id="season" required>
                    <option value="">Select season</option>
                    <option value="kharif">Kharif (Monsoon)</option>
                    <option value="rabi">Rabi (Winter)</option>
                    <option value="summer">Summer</option>
                    <option value="winter">Winter</option>
                    <option value="monsoon">Monsoon</option>
                </select>
            </div>
            <div class="form-group">
                <label for="rainfall">Rainfall (mm)</label>
                <input type="number" id="rainfall" required placeholder="e.g. 900">
            </div>
            <div class="form-group">
                <label for="temperature">Temperature (°C)</label>
                <input type="number" id="temperature" required placeholder="e.g. 28">
            </div>
            <button type="submit" class="btn btn-primary btn-full">Get Recommendation</button>
            <p class="form-note">Dummy ML logic is used here for demo purposes.</p>
        </form>

        <div class="results-panel">
            <div id="best-crop-card" class="result-card hidden">
                <h2>Best Crop</h2>
                <div class="result-main">
                    <h3 id="best-crop-name"></h3>
                    <p id="best-crop-profit" class="highlight-profit"></p>
                </div>
                <div class="result-details">
                    <p><strong>Yield used:</strong> <span id="best-crop-yield"></span> tons/acre</p>
                    <p><strong>Price used:</strong> ₹<span id="best-crop-price"></span> per ton</p>
                    <p><strong>Cost used:</strong> ₹<span id="best-crop-cost"></span> per acre</p>
                </div>
            </div>

            <div id="other-crops-card" class="result-card hidden">
                <h2>Other Crops (ranked by profit)</h2>
                <table class="ka-table">
                    <thead>
                    <tr>
                        <th>Crop</th>
                        <th>Profit (₹/acre)</th>
                        <th>Yield (t/acre)</th>
                        <th>Price (₹/t)</th>
                        <th>Cost (₹/acre)</th>
                    </tr>
                    </thead>
                    <tbody id="other-crops-body"></tbody>
                </table>
            </div>

            <p id="recommend-message" class="info-message"></p>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/recommend.js') }}"></script>
{% endblock %}

