{% extends "base.html" %}
{% block content %}
<section class="tool-section">
    <h1 class="page-title" data-i18n="rec_title">Crop Recommendation</h1>
    <p class="page-subtitle" data-i18n="rec_subtitle">
        Enter your soil and climate to see the most profitable crops.
    </p>

    <div class="two-column">
        <form id="recommend-form" class="ka-form">
            <div class="form-group">
                <label for="soil-type" data-i18n="soil_type">Soil type</label>
                <select id="soil-type" required>
                    <option value="" data-i18n="select_soil">Select soil type</option>
                    <option value="loam" data-i18n="soil_loam">Loam</option>
                    <option value="clay" data-i18n="soil_clay">Clay</option>
                    <option value="sandy" data-i18n="soil_sandy">Sandy</option>
                    <option value="silty" data-i18n="soil_silty">Silty</option>
                    <option value="black" data-i18n="soil_black">Black</option>
                </select>
            </div>

            <div class="form-group">
                <label for="season" data-i18n="season">Season</label>
                <select id="season" required>
                    <option value="" data-i18n="select_season">Select season</option>
                    <option value="kharif" data-i18n="season_kharif">Kharif (Monsoon)</option>
                    <option value="rabi" data-i18n="season_rabi">Rabi (Winter)</option>
                    <option value="summer" data-i18n="season_summer">Summer</option>
                    <option value="winter" data-i18n="season_winter">Winter</option>
                    <option value="monsoon" data-i18n="season_monsoon">Monsoon</option>
                </select>
            </div>

            <div class="form-group">
                <label for="rainfall" data-i18n="rainfall">Rainfall (mm)</label>
                <input type="number" id="rainfall" required placeholder="e.g. 900">
            </div>

            <div class="form-group">
                <label for="temperature" data-i18n="temperature">Temperature (°C)</label>
                <input type="number" id="temperature" required placeholder="e.g. 28">
            </div>

            <button type="submit" class="btn btn-primary btn-full" data-i18n="get_recommendation">
                Get Recommendation
            </button>

            <p class="form-note" data-i18n="demo_note">
                Dummy ML logic is used here for demo purposes.
            </p>
        </form>

        <div class="results-panel">
            <div id="best-crop-card" class="result-card hidden">
                <h2 data-i18n="best_crop">Best Crop</h2>
                <div class="result-main">
                    <h3 id="best-crop-name"></h3>
                    <p id="best-crop-profit" class="highlight-profit"></p>
                </div>
                <div class="result-details">
                    <p><strong data-i18n="yield_used">Yield used:</strong> <span id="best-crop-yield"></span> tons/acre</p>
                    <p><strong data-i18n="price_used">Price used:</strong> ₹<span id="best-crop-price"></span> per ton</p>
                    <p><strong data-i18n="cost_used">Cost used:</strong> ₹<span id="best-crop-cost"></span> per acre</p>
                </div>
            </div>

            <div id="other-crops-card" class="result-card hidden">
                <h2 data-i18n="other_crops">Other Crops (ranked by profit)</h2>
                <table class="ka-table">
                    <thead>
                    <tr>
                        <th data-i18n="crop">Crop</th>
                        <th data-i18n="profit">Profit (₹/acre)</th>
                        <th data-i18n="yield">Yield (t/acre)</th>
                        <th data-i18n="price">Price (₹/t)</th>
                        <th data-i18n="cost">Cost (₹/acre)</th>
                    </tr>
                    </thead>
                    <tbody id="other-crops-body"></tbody>
                </table>
            </div>

            <p id="recommend-message" class="info-message"></p>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/recommend.js') }}"></script>
{% endblock %}